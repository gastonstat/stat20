---
title: "Probability Distributions"
format:
  stat20slides-revealjs:
    chalkboard: true
---

```{r}
#| echo: false
#| message: false
#| warning: false

library(tidyverse)
library(stat20data)
library(infer)
library(patchwork)
```

## Agenda

-   Announcements
-   Probability refresher (last week)
-   Break
-   Concept questions: Probability Distributions
-   PS 8: Probability Distributions

## Announcements

-   No lab today

. . .

-   Problem Set 8 (paper max. 3) due next Tuesday at 9am

. . .

-   RQ: Random Variables due Wednesday 11:59pm

::: notes
You may need to review the concepts as I said in slack, depending on how they do in the pe refresher
:::

# Probability Refresher

```{r}
countdown::countdown(25, bottom = 0)
```

```{=html}
<!--
:::{.incremental}
- Let $X$ be the number of heads in three tosses of a fair coin.

- What about if $X$ is the number of heads in 3 tosses of a biased coin, where the chance of heads is $\frac{2}{3}$?

- Now suppose we toss a fair coin until the first time it lands heads, and let $X$ be the number of tosses. What is the pmf of $X$? Is it binomial?

- Finally, let's consider a deck of cards, and we are interested in the number of hearts dealt in a hand of five. Call this number $X$. What is the pmf of $X$?
:::

:::{.notes}
Write out outcome space of 3 coin flips of a fair coin and use this to define rv X = number of heads. Write out the pmf and cdf, and draw the cdf. Show why $X$ is binomial and what are $n$ ad $p$

Show what happens if coin is unfair. How the probabilities change.

Demo dbinom and pbinom and connection to pmf and cdf.

:::

## $f(x)$ and $F(x)$


:::{.incremental}

- $f(x)$ is the probability mass function of $X$. What does that mean? What is the connection to the distribution table? The probability histogram?

- $F(x)$ is the cumulative distribution function. 

- What is the connection between $f$ and $F$?

:::

:::{.notes}
Draw an example on the board. Maybe box of tickets { 0, 0, 0 , 1, 1, 2, 2, 2} draw one ticket, and let $X$ be the value of the ticket.
:::

-->
```

# Concept Questions

##  {.scrollable}

```{r}
countdown::countdown(2, top = 0)
```

Consider the box of tickets shown below.

![](images/box-slides-cq-feb-22-2023.png){fig-align="center" width="500"}

The plots below show:

1.  The probability histogram for the value of a ticket drawn at random from the box
2.  An empirical histogram for which the data were generated by drawing **10** tickets from the box with replacement
3.  An empirical histogram for which the data were generated by drawing **100** tickets from the box with replacement
4.  An empirical histogram generated by **20** draws from a different box.

```{r}
#| fig-align: center
box <-  c(rep(0,4), 3,3,5,6,7,7)
set.seed(12345)

p1 <- data.frame(box) %>%
   group_by(box) %>% 
   summarise(probs = n()/10) %>% 
  ggplot(aes(x=factor(box), y = probs)) +
  geom_col(width = 0.98, fill = "deeppink3") + 
  theme_bw() + 
  xlab("box tickets") +
  ylab("") + 
  annotate("text", x = 3, y = 0.35, label = "(B)", size = 5) +
  ylim(c(0,0.4))

samp1 <- sample(box,10, replace = TRUE )

p2 <- data.frame(samp1) %>%
  group_by(samp1) %>% 
  summarise(probs = n()/10) %>% 
  ggplot(aes(x=factor(samp1), y = probs)) +
  geom_col(width = 0.98, fill = "darkorchid4") + 
  theme_bw() + 
  xlab("box tickets") +
  ylab("") + 
  annotate("text", x = 3, y = 0.35, label = "(D)", size = 5) +
  ylim(c(0,0.4))

samp2 <- sample(box,100, replace = TRUE )

p3 <- data.frame(samp2) %>%
  group_by(samp2) %>% 
  summarise(probs = n()/100) %>% 
  ggplot(aes(x=factor(samp2), y = probs)) +
  geom_col(width = 0.98, fill = "deepskyblue3") + 
  theme_bw() + 
  xlab("box tickets") +
  ylab("") + 
  annotate("text", x = 3, y = 0.35, label = "(C)", size = 5) +
  ylim(c(0,0.4))

box2 <- c(0,0,0,3,5,5,6,6,7,7)

set.seed(12345)
samp3 <- sample(box2,20, replace = TRUE )

p4 <- data.frame(samp3) %>%
  group_by(samp3) %>% 
  summarise(probs = n()/20) %>% 
  ggplot(aes(x=factor(samp3), y = probs)) +
  geom_col(width = 0.98, fill = "darkorange3") + 
  theme_bw() + 
  xlab("box tickets") +
  ylab("") + 
  annotate("text", x = 2, y = 0.35, label = "(A)", size = 5) +
  ylim(c(0,0.4))

(p4 + p1)/(p3 + p2)
```

::: poll
Identify which is which by matching the letters to the numbers.
:::

::: notes
Since you have to scroll, maybe draw the box on the board. Scroll to see graphs

-   B-1 the prob dsn of tickets
-   D-2 emp dsn of 10 draws
-   C-3 emp dsn of 100 draws
-   A-4 emp dsn from different box
:::

# Binomial, hypergeometric, or neither?

## 

```{r}
countdown::countdown(1, bottom = 0)
```

Does the quantity described below have a probability distribution that is binomial (if so, what are $n$ and $p$?), hypergeometric (if so , what are $N$, $G$, and $n$?), or neither (why)?

\

Roll a fair ten-sided die 20 times. We count the number of times we roll a multiple of 3.

\

::: poll
Binomial, hypergeometric, or neither?
:::

::: notes
Binomial(20, 3/10). The pollev will have 4 choices, and then figuring out the parameters can be a classroom discussion. The fourth choice is "Need more info"
:::

## 

```{r}
countdown::countdown(1, bottom = 0)
```

Does the quantity described below have a probability distribution that is binomial (if so, what are $n$ and $p$?), hypergeometric (if so , what are $N$, $G$, and $n$?), or neither (why)?

\

YouGov surveyed 1,500 adult US citizens last December and counted the number of respondents who had read at least one book in 2023. The population of the US is about 335 million.

::: poll
Binomial, hypergeometric, or neither?
:::

::: notes
Hypergeometric($N = 335$ mill, $n = 1500$, G), where G is not known, being the number of people who have read at least one book . Can remark that we could use the binomial to model this rather than HG, and that we will discuss sample surveys in this unit. Disturbingly, only 54% of respondents had read at least one book. Here is the link: <https://today.yougov.com/entertainment/articles/48239-54-percent-of-americans-read-a-book-this-year>
:::

## 

```{r}
countdown::countdown(1, bottom = 0)
```

Are we describing a probability distribution below that is binomial? Or is it hypergeometric? Or do neither apply?

\

A six-sided die is tossed twice, and we check if the sum of the spots is 8 or not.

\

::: poll
Binomial, hypergeometric, or neither?
:::

::: notes
Binomial, with $n = 1, p = 5/36$ or Bernoulli with $p = 5/36$.
:::

## 

```{r}
countdown::countdown(1, bottom = 0)
```

Are we describing a probability distribution below that is binomial? Or is it hypergeometric? Or do neither apply?\

A bag that has 6 pieces of fruit: 2 mangoes, 3 apples, and 1 orange. I reach into the bag and draw out one fruit at a time, selecting each fruit at random (so they are equally likely on each draw). I count the number of draws until and including the first time I draw a apple.

::: poll
Binomial, hypergeometric, or neither?
:::

::: notes
Neither. It would be useful at this point to write out what is going on, and point out that they are using the multiplication rule and a conditional probability.
:::

````{=html}
<!--
## 

```{r}
countdown::countdown(1, bottom = 0)
```

You have $10$ people with a cold and you have a remedy with a $20\%$ chance of success. What is the chance that your remedy will cure at least *one* sufferer? (Let $X$ be the number of people cured among the 10. We are looking for the probability that $X \ge 1$)


:::{.poll}
What is the chance that at least one person is cured?
:::

:::{.notes}
$P(X \ge 1) = 1 - P(X < 1) = 1 - P(X = 0) = 1 - (1-p)^{10}$, where $p = 0.2$, because $X \sim Bin(10, p)$. $1-p = 0.8 \: \& \: 1-0.8^{10} = 0.8926$
:::



## 

```{r}
countdown::countdown(3, bottom = 0)
```

Roll a pair of fair six-sided dice and let $X = 1$ if the dice land showing the same number of spots, and $0$ otherwise. For example, if both dice land $2$, then $X = 1$, but if one lands $2$ and the other lands $3$, then $X = 0$. 

:::{.poll}
What is $P(X=1)$? 
:::



:::{.notes}
The chance that $X = 1$ can be broken up into six mutually exclusive situations, that the dice both show one spot, or both show two spots, etc. Each of these has probability $1/36$ so the total probability by the addition rule is $6/36 = 1/6$
:::

-->
````

# Break

```{r}
countdown::countdown(5, top = 0)
```

# Worksheet

```{r}
countdown::countdown(45, top = 0)
```

# End of lecture
